 <sect1 id="gkbapplet">
  <title>GNOME KeyBoard Applet</title>

  <para>
   <application>GNOME KeyBoard Applet</application>, shown with its
   default configuration in <xref
   linkend="gkbapplet-fig">, allows you to easily and quickly change
   the keyboard map to those used in various different countries. To
   add this applet to a
   <interface>Panel</interface>,
   right-click on the <interface>Panel</interface> and choose
   <menuchoice>
    <guimenu>Panel</guimenu>
    <guisubmenu>Add to panel</guisubmenu>
    <guisubmenu>Applet</guisubmenu>
    <guisubmenu>Utility</guisubmenu>
    <guimenuitem>GKB International KeyBoard</guimenuitem>
   </menuchoice>.
  </para>

  <figure id="gkbapplet-fig">
   <title>GNOME KeyBoard Applet</title>
   <screenshot>
    <screeninfo>GNOME KeyBoard Applet</screeninfo>
    <graphic format="png" fileref="gkb_applet" 
    srccredit="muet">
    </graphic>
   </screenshot>
  </figure>


  <!-- ============= Usage  ================================ -->
  <sect2 id="gkb-usage">
   <title>Usage</title>
   <para>
    Once configured, the <application>GNOME Keyboard</application>
    applet allows you to switch the keyboard mapping between any number of 
    countries. Just left-click on the applet to switch the keyboard
    mapping.
   </para>

   <para>
    Right-clicking on the applet brings up a menu containing the
    following items:
    <itemizedlist>

     <listitem>
      <para>
       <guimenuitem>Properties&hellip;</guimenuitem> &mdash;
       opens the <link linkend="gkbapplet-prefs">
       <guilabel>Properties</guilabel></link> dialog.
      </para>
     </listitem>

     <listitem>
      <para>
       <guimenuitem>Help</guimenuitem> &mdash;
       displays this document.
      </para>
     </listitem>

     <listitem>
      <para>
       <guimenuitem>About&hellip;</guimenuitem> &mdash;
       shows basic information about <application>GNOME KeyBoard
       Applet</application>, inluding the applet's version and the
       author's name.
      </para>
     </listitem>

    </itemizedlist>
   </para>
  </sect2>


  <!-- ============= Customization ============================= -->
  <sect2 id="gkbapplet-prefs">
    <title>Customization</title>
    <para>
      You can customize <application>GNOME KeyBoard</application>
      applet by right-clicking on it and choosing
      <guimenuitem>Properties&hellip;</guimenuitem>. This will open the
      <interface>Properties</interface> dialog (shown in <xref
      linkend="gkbapplet-settings-fig">), which allows you to
      add, configure, and remove keymaps.
    </para>

    <figure id="gkbapplet-settings-fig">
     <title>Properties dialog</title>
     <screenshot>
      <screeninfo>Properties dialog</screeninfo>
      <graphic format="png" fileref="gkb_applet_settings"
      srccredit="muet">
      </graphic>
     </screenshot>
    </figure>

    <para>
      <application>GNOME KeyBoard</application> typically comes up
      with two keyboard maps.  Each keyboard map has its own tab, with
      a label indicating the language or country the map is for. In
      <xref linkend="gkbapplet-settings-fig">, these are
      <guilabel>US</guilabel> (for a US
      keyboard) and <guilabel>HU</guilabel> (for Hungarian). You
      can delete any keyboard map by selecting the tab and pressing
      the <guibutton>Delete this keymap</guibutton> button.  To add
      another keyboard map, press the <guibutton>New
      keymap</guibutton> button and a new tab will appear for you to
      customize.
    </para> 

    <para>
     Each keymap tab has the following properties:
     <itemizedlist>

      <listitem>
       <para>
        Keymap name &mdash; This is the name of the keymap, which will
        be displayed in the tab at the top. 
       </para>
      </listitem>

      <listitem>
       <para>
        Icon path &mdash; This is the path to the icon which will be
        displayed for the keyboard map.  For most countries, just
        click on the image of a flag to the right to bring up a set of
        images you can use.  If you select one of these standard map
        images, you will not need to type the path by hand.
       </para>
      </listitem>

      <listitem>
       <para>
        Full command &mdash; This is the command which
        <application>GNOME KeyBoard</application> will use to change
        the keymap.  The default is to use the
        <command>setxkbmap <replaceable>LC</replaceable></command>
        command, where <replaceable>LC</replaceable> should be
        replaced by the 2-letter language code.   To set the keymap to a
        US keyboard, for example, you would use <command>setxkbmap
        us</command>. </para>
       <para>
	    If this doesn't work, you may also try setting the
	    keyboard using command <command>gkb_xmmap
	    <replaceable>LC</replaceable></command> (for example,
	    <command>gkb_xmmap fr</command> to use a French
	    keyboard). Finally, if you have your own keyboard layout
	    (xmodmap) file, set the command to <command>xmodmap
	    <replaceable>xmodmap-filename</replaceable></command> (for
	    example, <command>xmodmap
	    ~/xrus/yawerty.koi8.xmm</command> to use keyboard layout
	    for Cyrillic letters in koi8 encoding).  Please see
	    <xref  linkend="gkbappplet-technical"> for more
	    information. 
       </para>
      </listitem>

     </itemizedlist>
    </para>

    <para> 
      After you have made all the changes you want, click on
      <guibutton>OK</guibutton> to apply the changes and close the
      <interface>Properties</interface> dialog. To cancel the changes
      and return to previous values, click the
      <guibutton>Close</guibutton> button.
    </para>
  </sect2>

<sect2 id="gkbappplet-technical">
    <title>Technical information</title>
    <para> 
      Normally you do not need these details - but if something is not
    working, or you are just curious, read on.
    </para>
    <para>
      <application>GNOME Keyboard</application>  switches the keyboard
    map by issuing a command to X Window 
    System. X Window System has two mechanisms for setting keyboard
    mapping: older one called "xmodmap" and a newer one, based on the
    so-called "Xkb extension". If you have Xkb enabled, you should use
    it and switch keyboard layouts by issuing a command
    <command>setxkbmap <replaceable>LC</replaceable></command>. It
    comes with a number of various keyboard layout files, usually in
    directory <filename>/usr/X11R6/lib/X11/xkb/symbols</filename>. 
    </para>
    <para> If you do not have Xkb extension enabled, or if it just
    does not cover the language you need, you should use the older
    <command>xmodmap</command> mechanism. In this case, you need to
    have a file which describes keyboard layout in a special format
    (see manual page for <command>xmodmap</command> for details), and
    the command should be <command>xmodmap
    <replaceable>filename</replaceable> </command>. <application>GNOME
    Keyboard</application>  includes a
    number of keyboard layout files, which are installed in the
    directory <filename>/usr/share/xmodmap</filename>; these files
    have names like <filename>xmodmap.de</filename>. To use one of
    these files, you can use the command <command>gkb_xmmap
    <replaceable>LC</replaceable></command> 
    which is equivalent to <command>xmodmap
    /usr/share/xmodmap/xmodmap.<replaceable>LC</replaceable></command>:
    for example, 
      <command>gkb_xmmap hu</command> is the same as <command>xmodmap
    /usr/share/xmodmap/xmodmap.hu</command>. 
    </para>
  </sect2>




  <!-- ============= Bugs ================================== -->
  <!-- This section should describe known bugs and limitations of
       the program if there are any - please be frank and list all
       problems you know of -->
  <sect2 id="bugs">
   <title>Known Bugs and Limitations</title>
   <para>
   None yet.
   </para>
  </sect2>


  <!-- ============= Authors ================================ -->

  <sect2 id="authors">
   <title>Authors</title>
   <para>
    <application>GNOME KeyBoard</application> was written by Szabolcs Ban
    (<email>shooby@gnome.hu</email>).  Please send all comments,
    suggestions, and bug 
    reports to the <ulink url="http://bugs.gnome.org" type="http">GNOME
    bug tracking database</ulink>. (Instructions for submitting bug
    reports can be found <ulink
    url="http://bugs.gnome.org/Reporting.html" type="http">
    on-line</ulink>). You can also use <application>Bug Report
    Tool</application> (<command>bug-buddy</command>), available in the
    <guisubmenu>Utilities</guisubmenu> submenu of <guimenu>Main
    Menu</guimenu>, for submitting bug reports.
   </para>

   <para>
    This manual was written by Szabolcs (Shooby) Ban
    (<email>shooby@gnome.hu</email>) and Dan Mueth
    (<email>d-mueth@uchicago.edu</email>). Please send all comments
    and suggestions regarding this manual to the <ulink type="http"
    url="http://developer.gnome.org/projects/gdp/">GNOME Documentation
    Project</ulink> by sending an email to
    <email>docs@gnome.org</email>. You can also submit comments online
    by using the <ulink type="http"
    url="http://developer.gnome.org/projects/gdp/doctable/">GNOME
    Documentation Status Table</ulink>.
   </para>

   <!-- For translations: uncomment this:

   <para>
    Latin translation was done by ME
    (<email>MYNAME@MYADDRESS</email>). Please send all  comments  and
    suggestions regarding this translation to SOMEWHERE.
   </para>

   -->

  </sect2>


  <!-- ============= Application License ============================= -->

  <sect2 id="license">
   <title>License</title>
   <para>
    This program is free software; you can redistribute it and/or
    modify it under the terms of the <citetitle>GNU General Public
    License</citetitle> as published by the Free Software Foundation;
    either version 2 of the License, or (at your option) any later
    version.
   </para>
   <para>
    This program is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    <citetitle>GNU General Public License</citetitle> for more details.
   </para>
   <para>
    A copy of the <citetitle>GNU General Public License</citetitle> is
    included as an appendix to the <citetitle>GNOME Users
    Guide</citetitle>.  You may also obtain a copy of the
    <citetitle>GNU General Public License</citetitle> from the Free
    Software Foundation by visiting <ulink type="http"
    url="http://www.fsf.org">their Web site</ulink> or by writing to
    <address>
     Free Software Foundation, Inc.
     <street>59 Temple Place</street> - Suite 330
     <city>Boston</city>, <state>MA</state> <postcode>02111-1307</postcode>
     <country>USA</country>
    </address>
   </para>
  </sect2>

 </sect1>




