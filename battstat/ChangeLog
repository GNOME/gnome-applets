==================== 2.27.2 ======================

==================== 2.27.1 ======================

2009-05-04  Callum McKenzie  <callum@spooky-possum.org>

	* docs/zh_CN/battstat.xml (present): Link fixes.

2009-03-20  Callum McKenzie  <callum@spooky-possum.org>

	* battstat_applet.c: Patch from gQuigs to replace g_timeout_add
	with g_timeout_add_seconds where appropriate. Bug 57360.

==================== 2.26.0 ======================

2009-03-06  Philip Withnall  <philip@tecnocode.co.uk>

	* docs/en_GB/en_GB.po: Updated British English translation.

==================== 2.25.92 ======================

2009-02-17  Inaki Larranaga Murgoitio  <dooteo@euskalgnu.org>

	* docs/eu/figures/: Added image in Basque language. Images are:
		battstat-applet-expanded.png
		battstat-credits-hal.png
		battstat-preferences.png
		context-menu.png

==================== 2.25.91 ======================

2009-02-17  Callum McKenzie  <callum@spooky-possum.org>

	* battstat_applet.c:
	* power-management.c: Replace more deprecated functions.

2009-02-16  Inaki Larranaga Murgoitio  <dooteo@euskalgnu.org>

	* docs/eu/eu.po: Added Basque translation.
	* docs/Makefile.am: Added 'eu' to DOC_LINGUAS.

==================== 2.25.90 ======================

2009-01-26  Callum McKenzie  <callum@spooky-possum.org>

	* battstat_applet.c: Remove the last reference to gnome.h.

2009-01-22  Callum McKenzie  <callum@spooky-possum.org>

	* battstat-hal.c (device_added_callback): Patch from Simon Brys to
	remove the unchecked error object. It's reuse can cause a
	crash. Bug 568527.

==================== 2.25.3 ======================

==================== 2.25.2 ======================

2008-12-17  William Jon McCann  <jmccann@redhat.com>

	* Makefile.am: Add missing libgnomeui CFLAGS
	Patch from: lucasr.at.mundo@gmail.com
	(Bug #564192)

2008-11-22  Mario Blättermann <mariobl@svn.gnome.org>

	* docs/de/de.po: Some fixes in German translation

2008-11-07  Mario Blättermann <mariobl@svn.gnome.org>

	* docs/de/de.po: Added German translation
	* docs/Makefile.am: Added de to DOC_LINGUAS

2008-09-26  Callum McKenzie  <callum@spooky-possum.org>

	* battstat_applet.ui:	
	* battstat_applet.glade: Set the page_size to 0 to work around
	recent gtk sensitivity.

==================== 2.24.0.1 ====================

2008-09-20  Robert-André Mauchin  <zebob.m@pengzone.org>

	* docs/fr/fr.po: Updated French translation.

2008-07-22  Daniel Nylander <po@danielnylander.se>

	* docs/sv/sv.po: Updated Swedish translation.

2008-04-05  Ilkka Tuohela <hile@iki.fi>

	* docs/fi: Added Finnish translation by Jukka Heikkilä.

2008-03-30  Kostas Papadimas <pkst@gnome.org>

	* docs/Makefile.am: Added el to DOC_LINGUAS.
	* docs/el/el.po: Added Greek Translation by Giannis Katsampriris.

2008-03-16  Callum McKenzie  <callum@spooky-possum.org>

	* battstat_applet.ui
	* Makefile.am
	* battstat_applet.c
	* properties.c: Convert from glade to gtk-builder. Patch from Jaap
	Haitsma (bug #521082).

2008-03-12  Callum McKenzie  <callum@spooky-possum.org>

	* docs/C/battstat.xml: Use the "well-known" abbreviation HAL as
	well as the full wording (thanks to Leonardo Ferreira Fontelle,
	bug #521243) plus spelling fixes.

2008-03-08  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* docs/Makefile.am: Added pt_BR to DOC_LINGUAS.
	* docs/pt_BR/pt_BR.po: Added Brazilian Portuguese translation by Amadeu
	A. Barbosa Júnior, with minor improvements by myself.
	* docs/pt_BR/figures/*: Added screenshots by Amadeu A. Barbosa Júnior.

2008-02-10  Kjartan Maraas  <kmaraas@gnome.org>

	* battstat.schemas.in: Add missing full stops in the long description.

2007-12-02  Changwoo Ryu  <cwryu@debian.org>

	* docs/Makefile.am (DOC_LINGUAS): Added ko.
	* docs/ko/ko.po: gnome-doc-utils migration from the old Sun
	manual. And updated Korean translation.
	* docs/ko/*.xml: Removed old XMLs.
	* docs/ko/figures/*.png: Removed old images.

2007-11-16  Callum McKenzie  <callum@spooky-possum.org>

	* acpi-linux.c: Replace a set of bad calls to strcat with
	g_strconcat. Patch from Tom Parker (Bug #434436). This should stop
	a set of crashed when the HAL daemon isn't running and we try and
	interrogate the /proc/acpi tree directly.

2007-10-13  Callum McKenzie  <callum@spooky-possum.org>

	* battstat-hal.c (battstat_hal_initialise): Allow translation of
	error messages (patch from Takao Fujiwara, Bug #460083).

2007-07-31  Daniel Nylander <po@danielnylander.se>

	* docs/sv/sv.po: Updated Swedish translation.
	
2007-07-17  Jaap Haitsma <jaap@haitsma.org>

	* GNOME_BattstatApplet.xml: use gtk-about i.s.o. gnome-stock-about
	Fixes bug #456955

	* battstat.h:
	* battstat_applet.c: (update_tooltip), (destroy_applet),
	(about_cb), (create_layout), (battstat_applet_fill): 
	Use g_set_application name such that the application name
	gets shown correctly in the about dialog. Convert usage of GtkTooltips
	to new tooltips API of GTK 2.12 Fixes bug #457145

2007-06-28  Daniel Drake  <dsd@gentoo.org>

	* acpi-linux.c: 2.6.21 compatibility fix (based on patch by Alan
	Swanson). Also improved error passing/handling. (#427562)

2007-02-10  AP Singh Alam  <aalam@users.sf.net>

	* docs/pa/pa.po: Punjabi is added
	* docs/Makefile.am: Punjabi (pa) is added

2007-01-30  Kjartan Maraas  <kmaraas@gnome.org>

	* power-management.c: (power_management_initialise):
	Don't mix declarations and code.

2007-01-25  David Lodge <dave@cirt.net>

	* docs/en_GB/en_GB.po: Added English (British) translation
	* docs/Makefile.am: Added en_GB to DOCS_LINGUAS

2006-11-15  Kjartan Maraas  <kmaraas@gnome.org>

	* docs/C/battstat.xml: Added role=maintainer.
	* power-management.c: Remove duplicated includes.
	* properties.c: Same here.

2006-11-08  Daniel Nylander <po@danielnylander.se>

	* docs/sv/sv.po: Updated Swedish translation.
	
2006-10-02  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: catch a -1 time and format it correctly

2006-09-21  Ryan Lortie  <desrt@desrt.ca>

	* battstat.h: Rename pixtimer to timeout_id.  Add 'timeout' to record
	  current timeout length.
	* battstat_applet.c: Change pixtimer to timeout_id.  Dynamically
	  determine length of time for next wakeup according to Bug #353885.
	  1 second if on battery.  10 seconds if on AC (reduce polling on
	  servers).

2006-09-21  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c:
	* battstat-hal.h:
	* power-management.c:
	* battstat.h:
	* battstat_applet.c: Add a callback system to notify the applet when
	  changes to the battery state have been reported by HAL (removes the
	  need to poll once per second).  Closes bug #348750.

2006-09-02  Daniel Nylander  <po@danielnylander.se>

	* docs/sv/sv.po: Updated Swedish documentation
	* docs/sv/figures/*.png: Added screenshots.

2006-07-23  Daniel Nylander  <po@danielnylander.se>

	* docs/sv/sv.po: Updated Swedish documentation

2006-07-21  Christophe Bliard  <christophe.bliard@trux.info>

	* docs/fr/fr.po: small update in French documentation
	* docs/fr/figures/*.png: updated screenshots
	
2006-07-10  Rodney Dawes  <dobey@novell.com>

	* GNOME_BattstatApplet.server.in.in:
	* battstat_applet.c (battery_full_notify, battery_full_dialog):
	(battery_low_dialog, about_cb, battery_applet_fill):
	Use battery as the icon name instead of gnome-dev-battery as per the
	icon naming specification

	Fixes #346487

2006-06-29  Daniel Nylander  <po@danielnylander.se>

        * docs/sv/sv.po: Added Swedish translation.
	
2006-01-30  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c:
	- centre low battery dialog - closes #328959
	- update libnotify API - closes #329145
	  (based on work from Wouter Bolsterlee <gnome@xs4all.nl>)

2006-01-21  Vincent Untz  <vuntz@gnome.org>

	* docs/fr/fr.po: small update

2006-01-17  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: remove Ryan's star, replace with a much more
	  straight-forward text string.

2006-01-06  Vincent Untz  <vuntz@gnome.org>

	* docs/fr/fr.po: update french translation, by Christophe Bliard
	  <christophe.bliard@trux.info>

2006-01-03  Ryan Lortie  <desrt@.desrt.ca>

	* battstat_applet.c (battery_full_notify): Move to the new libnotify
	  API.  Patch from Michael Vogt <mvogt@acm.org> closes bug #325541.

	* battstat_applet.c (change_background, create_layout): Remove the
	  old change_background function using the new functionality
	  in libpanel-applet instead.

2005-12-05  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c (battery_low_dialog): Set the "OK" button as the
	  default action (partially addresses bug #315954).

2005-12-05  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c (is_suspend_unavailable): New function to detect
	  in a distribution-specific way if suspend is unsupported.  Included
	  #ifdef'd out code section for supporting Ubuntu's PMI (used for
	  testing purposes).  Included <sys/types.h> and <sys/wait.h> for
	  WEXITSTATUS() used by the code.  Closes bug #314812.

2005-12-04  Ryan Lortie  <desrt@desrt.ca>

	* battstat.h:  Add last_present field to main structure.
	* battstat_applet.c (check_for_updates): Track last value of
	  'present' flag.  Update text label if 'present' or 'on_ac' flags
	  change (since these possibly affect the value of the label).

	Based on patch by Shun-ichi Tahara <jado@flowernet.gr.jp>

2005-12-04  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c (adaptor_update_property): HAL incorrectly spells
	  'adaptor' as 'adapter'.  This prevents battstat from tracking AC
	  adaptors properly (not noticed yet since we don't depend on this
	  functionality).  Change to HAL's way of spelling it.

2005-12-04  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c (setup_text_orientation): New function to rotate
	  the applet text on side panels.  Closes bug #319909.

2005-12-03  Vincent Untz  <vuntz@gnome.org>

	* docs/fr/*: add french translation, by Christophe Bliard
	  <christophe.bliard@trux.info>
	* docs/*: give some .cvsignore love

2005-09-28  Ryan Lortie  <desrt@desrt.ca>

	* docs/Makefile.am: add DOC_FIGURES list to get .png's into the
	  tarball.  Closes bug #317476.
	  
2005-08-30  Rodrigo Moya <rodrigo@novell.com>

	* power-management.c (power_management_using_hal): fixed compilation
	  without HAL.

2005-08-28  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: add myself to documenters

2005-08-28  Davyd Madeley  <davyd@madeley.id.au>

	* docs/C/battstat.xml: Finish adding a troubleshooting section

2005-08-27  Davyd Madeley  <davyd@madeley.id.au>

	* docs/C/battstat.xml:
	* docs/C/figures/*.png: Started updating battstat documentation.
	Preferences section is updated, Status section is removed for being
	pointless. Added notes about backends and started adding a
	troubleshooting section.

2005-08-25  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c:
	* power-management.c:
	* battstat.h: Add support for the user disabling HAL via a GConf key.
	  Also add support for the user to find out if they are currently
	  using HAL.

2005-08-14  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Add (x,y) hints to the notification call. This
	  exposes another bug in the notification-daemon which needs to be
	  plugged.

2005-08-08  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.glade: change labels on radiobuttons to make them
	  less of a gratuitious lie.

2005-08-01  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c: Do time remaining calculations internally on
	  multiple battery systems.

	  The algorithm for the calculation of time remaining on multiple
	  battery systems is essentially an extension of the calculation that
	  HAL is doing internally for single battery systems anyway with
	  the added advantage that we'll get sane numbers on multiple-battery
	  systems.

	  This means that we have full control over calculating the time
	  remaining on multiple-battery systems so that any changes in how
	  HAL does this do not affect us.  Since the topic of how to handle
	  time remaining on multiple-battery systems in HAL is still up in
	  the air and this code needs some time to be tested before 
	  GNOME 2.12, this is the version of the code that I would like to
	  ship (modulo any bug reports, of course).

2005-07-31  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c: Code cleanup to support multiple battery systems
	  instead of just reporting information on the first battery.  This
	  code assumes that the appropriate changes will be made to HAL
	  as outlined in the comments in the code.  For single-battery
	  systems, in any case, the change will have no effect.

	  In the event that this doesn't happen in time for GNOME 2.12, I
	  will add code to compensate for it.

	  Added code to honour the "present" flag.  You can now pop the
	  battery out of your laptop while battstat is running and it will
	  do the right thing and display "No battery present" in the tooltip.

	  Added code to make sure we don't accidentally monitor UPSes or the
	  battery in your cordless mouse.

	  Fixed a potential small memory leak on error during a hotplug event.

2005-07-21  Ryan Lortie  <desrt@desrt.ca>

	* battstat.schemas.in: gconf key description cleanup (bug #310484)

2005-07-20  Davyd Madeley  <davyd@madeley.id.au>

	* docs/*: Remove lots of unwanted files. XML files still need
	  converting to po files.

2005-07-20  Danilo Šegan  <danilo@gnome.org>

	* docs/C/Makefile.am: Really removed now! Honest!

2005-07-19  Danilo Šegan  <danilo@gnome.org>

	* battstat/docs/Makefile.am: Added.
	* battstat/docs/battstat.omf.in: Added.
	* battstat/docs/C/Makefile.am: Removed.
	* battstat/docs/C/battstat.xml: Add <abstact role="description">.

2005-07-14  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c (battstat_hal_initialise): libhal_ctx_free isn't
	  enough to destroy a libhal context properly -- you must call
	  libhal_ctx_shutdown first.

2005-07-14  Ryan Lortie  <desrt@desrt.ca>

	* power-management.c (power_management_getinfo): Remove erroneous
	  cast to (guint) on comparing -1 to status->parcent (which is
	  actually signed).  Patch from Benoît Dejean <TazForEver@dlfp.org>.

2005-07-13  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c: Fix a typo in my last commit.

2005-07-13  Dennis Cranston  <dennis_cranston@yahoo.com>

	* battstat_applet.glade:  HIG fixes for capplet (vertical 
	  spacing should be 6 pixels, not 0 or 3 pixels).

2005-07-13  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c: Remove use of magic -1 value to denote end
	  of GdkColor entries and instead use G_N_ELEMENTS() in for loops.

	  Remove unused colour 'gray'.

	  Call gdk_colormap_get_system() only once (instead of 9 times).

2005-07-09  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c: Move most code out of help_cb and into a
	  generic battstat_show_help function that can be used by the
	  help button callback in the preferences dialog.

	* battstat.h: Add prototype for battstat_show_help.

	* properties.c: Remove prefs_help_cb function (which was broken)
	  and replace it with a call to battstat_show_help();

	* docs/C/battstat.xml: Remove all talk of suspending.

2005-07-08  Ryan Lortie  <desrt@desrt.ca>

	Removal of suspend support as per bug #303496.

	* GNOME_BattstatApplet.xml: Remove "suspend" menu item.

	* battstat.h: Remove suspend_entry, suspend_cmd structure members.

	* battstat.schemas.in: Remove suspend stuff from gconf.

	* battstat_applet.c: Remove suspend_cb, double click handler,
	  other assorted suspend-related stuff.

	* battstat_applet.glade: Remove suspend command entry field.

	* properties.c: Remove suspend_changed and related code.

2005-07-08  Ryan Lortie  <desrt@desrt.ca>

	Properties dialog rework.  See bug #307231.

	* battstat.h: Remove 3 battstat struct members related to old
	  properties code.

	* battstat_applet.glade: Rework properties as per comment #3 in bug.

	* properties.c: Remove label_ptr-related code.

	  Fix typo into spin_ptr_cb function declaration.

	  Change combo_ptr and spin_ptr to be local variables in prop_cb 
	  instead of global structure members.  Use local instances of these
	  variables instead of structure members in callback functions.

	  Update strings and translator comments in prop_cb to reflect
	  changes to battstat_applet.glade.

2005-07-05  Rodrigo Moya  <rodrigo@novell.com>

	* battstat_applet.c (battery_full_notify): adapt to new libnotify
	API.

2005-07-04  Ryan Lortie  <desrt@desrt.ca>

	* acpi-linux.c: Update AC status on battery status updates to
	  work-around an ACPI bug.  Fixes bug #163013.

2005-07-04  Ryan Lortie  <desrt@desrt.ca>

	* battstat-hal.c:
	* battstat-hal.h: New files for libhal support.

	* Makefile.am: add battstat-hal.[ch], $(HAL_{CFLAGS,LIBS})

	* battstat.h: Remove unused 'state' variable and enum type.

	  Include panel-applet header files (since PanelApplet is used in
	  this header).

	  Add #ifndef _battstat_h_ around entire file.

	* power-management.c: Add hooks for HAL support.

	  Remove unused 'state' variable.

	  Header cleanup.

	* battstat_applet.c: Remove unused 'state' variable.

	  Change logic for tooltip label to honour 'charging' flag.

	  Add parens around && inside of || as suggested by -Wall.

	  In the event of the battery meter never being displayed (ie: always
	  on AC power) battstat->pixgc would never be initialised but would
	  be unref'd on exit, causing a warning.  Conditionalise unref.

2005-06-19  Davyd Madeley  <davyd@madeley.id.au>

	* Makefile.am:
	* battstat_applet.c: If libnotify is found, use that to display the
	  'battery full' warning, instead of popping up a dialog.

2005-06-11  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.glade: Grammar fixes and some layout tweaks.

2005-06-10  Davyd Madeley  <davyd@madeley.id.au>

	* battstat.h:
	* battstat.schemas.in:
	* battstat_applet.c:
	* battstat_applet.glade:
	* properties.c: Low battery warning can now be dependant on time
	  remaining or percentage remaining, with the warning amount being
	  configurable in the UI. Orange/Yellow values have been dropped from
	  GConf and are now being autocalculated (multipliers in battstat.h)

2005-06-09  Davyd Madeley  <davyd@madeley.id.au>

	* AUTHORS: 
	* MAINTAINERS:
	* README:
	* TODO: removed. Old files with no current content.

2005-06-09  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: If both options are ticked, switch to new
	  setting for migration.

2005-06-09  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c:
	* properties.c:
	* battstat_applet.glade:
	* battstat.h:
	* battstat.schemas.in:
	* pixmaps.h: Merge the Ubuntu-ized battstat and make it the default.
	  This incorporates work from Ryan Lortie and some of the Canonical
	  dudes. The traditional look applet is still available in the
	  preferences.

	* battstat_applet.glade: make the low battery warning give useful
	  information based off comments by Calum Benson (?). Also fixed the
	  about box to use the UTF-8 hex for a name, rather then some
	  translator comment asking to have it translated (so GNOME 1.x).

2005-05-18  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c: Reworded battery low warning and made
	text selectable.  Closes bug #160467.

2005-05-10  Ryan Lortie  <desrt@desrt.ca>

	* Makefile.am: Add acpi-freebsd.[ch].

	* acpi-freebsd.c:
	* acpi-freebsd.h: New files for ACPI support on FreeBSD as
	contributed by Joe Marcus Clarke <marcus@freebsd.org>.
	Closes bug #168355.

	* power-management.c: Add 'testing' backend.  Closes bug #303523.
	Add hooks for new FreeBSD ACPI code.

	* acpi-linux.c: If no power adaptor ACPI devices are found then
	assume that we're on a desktop machine (and therefore on AC power).
	Closes bug #150899.

	* battstat_applet.c: Remove the flashing of the lightning bolt while
	charging the battery.  Closes bug #167370.

	Pop up a dialog instead of printing a console warning in the event
	that we are unable to successfully start the help viewer.  Closes
	bug #168806.

	Make the low battery warning dialog give a countdown if the user
	elects to leave it open.  Closes bug #301962.

	Addition of Joe Marcus Clarke to the about dialog credits.

	Header cleanup to remove implicit declarations and use documented
	header interfaces.

	* battstat.h: Support for low battery warning dialog changes.  
	Support for removing of the flashing icon.
	Header cleanup to use documented interfaces.

	* pixmaps.h: Support for removing of the flashing icon.

	* properties.c: Header cleanup to remove implicit declarations and
	use documented header interfaces.

	Remove unused platform-specific code from this file.

2005-03-20  Kjartan Maraas  <kmaraas@gnome.org>

	* battstat.h:
	* battstat_applet.c:
	* power-management.c:
	* properties.c: Clean up a bit

2005-03-07  Davyd Madeley  <davyd@madeley.id.au>

	* docs/C/figures/battstat-preferences.png:
	* docs/battstat.xml: Update documentation for GNOME 2.10.

2005-02-27  Ryan Lortie  <desrt@desrt.ca>

	* battstat_applet.c: Don't leak style while handling the
	change_background signal.  Fix adapted from Vincent Untz's fixes
	to various panel applets.

2005-02-24  Kjartan Maraas  <kmaraas@gnome.org>

	* battstat_applet.c: (static_global_initialisation),
	(static_global_teardown): Make some functions static
	and ANSIfy the functions taking no arg.
	* pixmaps.h: Make pixmap static.
	* power-management.c: Make some global vars static

2005-01-14  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Make dialogs appear always on top but not
	stealing focus.

2005-01-13  Ryan Lortie  <desrt@desrt.ca>
	* acpi_linux.c:	
		Remove an unused local variable.
	* battstat.h:
		Remove data/decl's that ought to be static.
		Remove unused members from ProgressData.  Add comments.
		Namespace clean-up of some enum types.
		Remove function prototypes for long-since removed code.
	* battstat_applet.c:
		Add lots of code comments to improve readability.
		Move in some static data/decl's from battstat.h.
		Change global_initialisation to keep track of how many
			applets instances are running.
		Add global_teardown function to do cleanup when last
			applet instance is removed from the panel.
		battstat_error_dialog no longer blocks.
		STRING CHANGE: Fixed "%d hours (%d%%) until charged (%d%%)".
		update_battery_image now takes the battery life % as an int.
		Moved GdkGC initialisation into update_battery_image.
		Cleaned up update_status_icon for readability.
		Don't ignore return values of power_management functions.
		Only beep if also displaying an error dialog.
		Improved change-detection for fewer superfluous updates.
		destroy_applet: Removing applets should be leak-free now.
		Removed unused and empty helppref_cb function.
		Added "static" keyword to some local-use-only functions.
	* power-management.c:
		Change a couple of C++ style comments to C style.
		Add pm_initialised global variable that gets set to 0 on
			 error during initialisation or later reads.
		Stop trying to re-read data if pm_initialised == 0.
		Moved APMDEVICE from battstat.h here for Free/OpenBSD to be
			more consistent with how NetBSD works.
	* properties.c:
		Notify the applet of the need to update the text label if the
			user changes from percent to time left (or back).
		Fix error in new the new properties dialog that resulted
			in "Show battery status" always being toggled
			active when the applet starts.
		Removed strage debug message from prop_cb

2005-01-13  Benoît Dejean  <TazForEver@dlfp.org>

	* battstat.h:
	* battstat_applet.c: (battery_low_dialog), (update_percent_label):
	* power-management.c: (acpi_callback):
	* properties.c: (prop_cb): Cleanups to please gcc :)
	Closes #163930

2005-01-13  Ryan Lortie  <desrt@desrt.ca>
	* acpi_linux.c: acpi_linux_init: On failure to connect to the apicd
		this function would set acpiinfo->event_fd = -1; but not
		close the socket, thus leaking an fd.  Fixed.

2005-01-13  Ryan Lortie  <desrt@desrt.ca>
	* battstat_applet.c: GdkPixmaps need to be unref'd after being
				 added to a GtkImage

2005-01-12  Ryan Lortie  <desrt@desrt.ca>
	* battstat_applet.c:  Fix bug #163703.  Show "-:--" for unknown
		time remaining.

	* power-management.c: Fix build bugs in BSD-specific code.

2005-01-11  Ryan Lortie  <desrt@desrt.ca>
	* battstat_applet.c:  Massive changes.  In brief:
	- pixmap_timeout has been gutted, separated into smaller
	  functions and renamed to check_for_updates.

	- Rewrote layout engine to use a single table.  Flexibility
	  for easily defining new layouts in the future.  Much less
	  duplication.

	- Moved a lot of common data that used to be stored on a
	  per-instance basis to a global initialisation function.

	* power-manangement.c: New file to try to abstract away the process
		of reading APM data.  All platform-specific #ifdef are
		removed from battstat_applet.c.

	* battstat.h:
		- Added new datatypes and enums to deal with new layout.
		- Erased many members of the main applet struct due to
                  simplified layout.

	* Makefile.am:
		Added power-management.c

	* properties.c:
		Some minor changes to deal with the changes elsewhere.

2004-11-11  Dennis Cranston <dennis_cranston@yahoo.com>

	* battstat_applet.glade:  Fix minor use of incorrect padding.  Fix conflicting
	mnemonic 's'.
	 
2004-11-09  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Fix fixed support for transparent panels... oops!

2004-11-09  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Fix support for transparent panels.

2004-10-26  Davyd Madeley  <davyd@madeley.id.au>

	* battstat.h:
	* preferences.c:
	* battstat_applet.glade: Neaten up the preferences dialog.

2004-10-25  Davyd Madeley  <davyd@madeley.id.au>

	* battstat.h:
	* battstat.schemas.in:
	* battstat_applet.c:
	* battstat_applet.glade:
	* preferences.c: Clean up preferences dialog. Add option to display
	  time remaining (or percentage remaining or nothing).

	* battstat_applet.c: Make about dialog use GtkIconTheme.

2004-09-21  Enver ALTIN  <ealtin@parkyeri.com>

	* battstat_applet.c: Fixed a type-o.

2004-09-06  Shaun McCance  <shaunm@gnome.org>

	* docs/C/battstat-C.omf:
	* docs/C/battstat.xml:
	- New battstat docs from Angela Boyle

2004-09-04  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Fix a build problem for BSD. Closes #151824.
	Patch from Julio M. Merino Vidal <jmmv@menta.net>.

2004-08-30  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Fix a crasher with battery notifications. Closes
	#151412. Patch by Carlos Garnacho Parro <carlosg@gnome.org>.

2004-08-09  Davyd Madeley  <davyd@madeley.id.au>

	* battstat_applet.c: Another largish string break (related to the last
	one). Things are generally fixed up. Closes bug #149586.

2004-08-08  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c: Huge string break. Improved all strings to give
	battery state in form "xx hours xx minutes (xx%) remaining". Closes
	#89866. Also makes warning dialogs more HIG compliant.

2004-08-03  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c (size_allocate): Use the size_allocate signal
	to get the panel real size. Fixes bug #144413.
	(create_layout): Add a intermediate vbox to the applet layout to
	make the applet icons centered on wide vertical panels. Fixes bug
	#136457.
	(change_orient): Test if the charge percent is displayed before
	making the applet horizontal on vertical panels.
	Patch by Vincent Noel <vnoel@cox.net>.

2004-07-25  Kjartan Maraas  <kmaraas@gnome.org>

	* battstat_applet.c: (destroy_applet): Merge fix
	for bug #145340 from stable. (Fixes a small leak).

2004-07-22  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat/battstat_applet.c: Fix references to certain apm_info
	structs that don't exist in FreeBSD. Patch from Joe Marcus Clarke
	<marcus@freebsd.org>. Closes #148048.

2004-07-09  Vincent Noel  <vnoel@cox.net>

	* battstat_applet.c (change_orient): Make the applet horizontal
	on wide vertical panels.

2004-07-02  Christian Neumair  <chris@gnome-de.org>

	* properties.c (prop_cb): Fix 'Probress Bar' a11y typos.

2004-06-10  Dennis Smit  <ds@nerds-incorporated.org>
	
	* properties.c (prop_cb):

	Accessibility fixes bug #135374.

	Patch by: Karthik BG  <kkbg@softhome.net>

2004-05-27  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c:
	- Ensure battery warning dialogs are line wrapped.
	- Add time remaining to low battery warning dialog.

2004-05-27  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c: Remove all uses of snprintf and replace them with
	g_strdup and g_strdup_printf. Closes #143210.

2004-05-23  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c:
	- Improve and apply a fix from Richard Kinder <r_kinder@yahoo.com> to
	make the battery warning dialog appear every time the battery power
	drops below the "red-line". Closes #138235.
	- Require the battery to be present to display the low power warning.
	This means if ACPId stops, the warning dialog will not be displayed.
	- Update the warning dialogs to use gtk_dialog, rather then the
	deprecated GNOME dialogs. This adds the string "Battery Notice".

2004-05-22  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c: Ensure that when the widget is destroyed the
	pointer is set to NULL.

2004-05-19  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c: Fix a segmentation fault caused by attempting to
	remove the dialog when it wasn't even put there.

2004-05-16  Davyd Madeley  <davyd@ucc.asn.au>

	* battstat_applet.c:
	* battstat.h: Close bug #131322. Make the battery warning
	dialog disappear when you plug AC power in.

2004-05-16  Davyd Madeley  <davyd@ucc.asn.au>

	* acpi-linux.c:
	* battstat_applet.c:
	Replace useless Critical/Low/High message in tooltip with a time
	remaining. Based off a patch by Colin Leroy <colin@colino.net>, now
	with ACPI support. Closes #138959.

2004-03-17  Glynn Foster  <glynn.foster@sun.com>

	* docs/ja/*: Adding ja docs, since I didn't hear from the previous author.

2004-03-16  Glynn Foster  <glynn.foster@sun.com>

	* docs/Makefile.am: Add l10n'd docs to the build.

2004-03-15  Glynn Foster  <glynn.foster@sun.com>

	* docs/*: Localized docs for de, es, fr, it, ko, sv, zh_CN, zh_HK and zh_TW
	from Sun's l10n team.

2004-03-15  Glynn Foster  <glynn.foster@sun.com>

	* docs/C/battstat-applet/index.html: Remove, it's old.
	* docs/C/figures/battstat-apperance.png: Remove, not referenced anymore.
	* docs/C/figures/battstat-general.png: Remove, not referenced anymore.

2004-02-29  Dennis Smit  <ds@nerds-incorporated.org>

	* battstat_applet.c (change_background):
	Removed bogus return.

2004-02-26  Dennis Smit  <ds@nerds-incorporated.org>

	* battstat.h: Removed unused entries in the ProgressData
	structure.

	Added prototype for the change_background function.

	* battstat_applet.c (change_background):
	Added function that handles panel background changes
	and makes the applet panel background aware. Not
	nearly as it should be, but it's a start.

	(create_layout):
	Small cleanups and connect signal for the change_background signal.

2004-02-18  Kevin Vandersloot

	* Makefile.am, battstat.c, properties.c: Open BSD support. From 
	Julio M. Merino Vidal. Fixes bug #134661

2004-02-09 Breda McColgan <breda.mccolgan@sun.com>

	* docs/C/figures/battstat-applet_window.png: Renamed from battstat-applet.png as per GNOME Documentation Style Guide

2004-02-09 Breda McColgan <breda.mccolgan@sun.com>

	* docs/C/battstat.xml: Updated for GNOME 2.6. Issued for technical review.
	* docs/C/battstat-C.omf: Updated for GNOME 2.6.
	* docs/C/l10n.txt: Created for GNOME 2.6.
	* docs/C/figures/ac_small.png: Created for GNOME 2.6.
	* docs/C/figures/battery_small.png: Created for GNOME 2.6.
	* docs/C/figures/flash_small.png: Created for GNOME 2.6.
	* docs/C/figures/warning_small.png: Created for GNOME 2.6.
	* docs/C/figures/batt_green.png: Created for GNOME 2.6.
	* docs/C/figures/batt_yellow.png: Created for GNOME 2.6.
	* docs/C/figures/batt_orange.png: Created for GNOME 2.6.
	* docs/C/figures/batt_red.png: Created for GNOME 2.6.

2004-02-08  Jason Leach  <leach@wam.umd.edu>

	* Makefile.am (CLEANFILES): Add .server and .server.in here.
        (#132071, Padraig O'Briain)

2004-01-31  Dennis Smit  <ds@nerds-incorporated.org>

	* battstat_applet.c (about_cb): put the
	check that checks if there is already an dialog
	under the const declaration.

2004-01-30  Dennis Smit  <ds@nerds-incorporated.org>

	* battstat/battstat.h: added about_box GtkWidget to the _ProgressData
	structure.
	* battstat/battstat_applet.c (destroy_applet): destroy the about
	dialog when it's present.
	(about_cb): check if there already is an about dialog for this
	instance and if so present it to the user. Also make use of
	the about box that is added to _ProgressData.
	(battstat_applet_fill): initialize the about_box member of
	_ProgressData with NULL.
	(destroy_about): removed as it was bogus.
	Fixes #132461

2004-01-27  Jason Leach  <leach@wam.umd.edu>

	* Makefile.am (APMINC): One last builddir != srcdir fix.
	(#129236, Mike Castle)

2004-01-18  Jason Leach  <leach@wam.umd.edu>

	* Makefile.am (install-data-local): builddir != srcdir fix.

2004-01-12  Kevin Vandersloot

	* battstat.schemas.in: change the defaults to not display when 
	battery is fully charged.

2004-01-11  Balamurali Viswanathan <balamurali.viswanathan@wipro.com>

	* battstat_applet.c: Added Accessible Descritpion
	  Fixes #128290

2004-01-07  Glynn Foster  <glynn.foster@sun.com>

	* battstat.schemas.in: Give a default command. Assume APM for now, 
	but really this should probably be something like ACPI in the future?
	* battstat_applet.c: (suspend_cb): Give a better warning message.
	* properties.c: (prop_cb): Actually remember the suspend command when
	you load up the preference dialog. Fixes #130641.

2003-01-04  Kevin Vandersloot

	* acpi-linux.c: Fix for acpi events bug. Patch by Brian Perkins. 
	Fixes bug #129167

2003-12-15  Olli Helenius  <liff@iki.fi>

	* battstat.h, battstat_applet.c: Drop font_set_cb since it doesn't
	seem to be used (it also uses GnomePropertyBox, which is deprecated).

	* battstat_applet.c, properties.c: Convert deprecated function
	calls to non-deprecated ones.

2003-12-14  Vijaykumar Patwari <vijaykumar.patwari@wipro.com>
 	* battstat/properties.c (prop_cb): Connected delete_event signal
 	to the property dialog. Fixes bug# 128583

2003-10-22  Kevin Vandersloot

	* acpi-linux.c: Fix up reading /proc/acpi../info by using acpid properly.
	Fixes bug #88553. Patch from David Moore.

2003-10-10  Kjartan Maraas  <kmaraas@gnome.org>

	* battstat_applet.c: (destroy_applet), (about_cb), (create_layout):
	Merge fix for bug #124150 from stable.

Tue Sep 16 13:58:07 2003  George Lebl <jirka@5z.com>

	* properties.c: when command line is being inhibited, make sure we
	  disable the entry for setting the command

Mon Sep 15 15:16:04 2003  George Lebl <jirka@5z.com>

	* battstat_applet.c: when started in lockdown mode, hide the
	  preferences item

2003-09-04  Stanislav Brabec  <sbrabec@suse.cz>

	* sounds/Makefile.am: Added battstat_applet.soundlist.in to
	EXTRA_DIST.

2003-07-26  Kevin Vandersloot

	* acpi-linux.c: Fix for kernels greater than 2.4.20. Patch from Alvaro del Castillo. 
	Fixes bug #111089

2003-07-23  Kevin Vandersloot

	* .schemas.in: clean up the strings here and remove some useless items.

2003-07-21  Dennis Cranston <dennis_cranston at yahoo com>

	* battstat_applet.glade:  HIGify widget padding between the 
	vbox and action area of the preference dialog.  Thanks to
	<chris@gnome-de.org> Christian - Manny Calavera - Neumair.
	
Wed Jul 09 14:15:44 2003  George Lebl <jirka@5z.com>

	* properties.c, battstat_applet.glade: respect key writability

2003-06-25  Matt Keenan <matt.keenan@sun.com>

	* battstat_applet.c, properties.c 
	fix bug #115945, compilation problem with apm.h on SuSE

2003-06-15  Kevin Vandersloot

	* battstat_applet.c: Bind double click/enter/space to suspend.

2003-06-03  Kevin Vandersloot

	* battstat_applet.c: Expand the applet for Fitt's law

2003-05-07  Dennis Cranston <dennis_cranston at yahoo com>

	* battstat_applet.glade:  HIGify the action area of the preferences
	dialog.
	* properties.c:  Remove the gtk_dialog_add_button() function calls.  
	The close and help buttons are now in the glade file.

2003-04-26  Dennis Cranston <dennis_cranston at yahoo com>

	* battstat_applet.glade, properties.c: HIGify the preferences dialog.
	Also, added a help button and hooked it up.
	
	* GNOME_BattstatApplet.xml:  Add missing stock icon.
 
2003-04-24  Kevin Vandersloot <kfv101@psu.edu>

	* acpi-linux.c: Hanlde gracefully when acpi directories don't exist. Patch
	from Manuel Clos. Fixes bug #111089

2003-03-12  Alex Duggan  <aldug@astrolinux.com>

	* battstat_applet.c: fix typo, s/show/shows/  Fixes #104028

2003-03-07  Mark McLoughlin  <mark@skynet.ie>

	* battstat_applet.c: (help_cb): update for screen-exec changes.

2003-03-04  Kevin Vandersloot <kfv101@psu.edu>

	* docs/ja/Makefile.am: fix build from patch by Malcolm
	Tredinnick

2003-03-02  Takeshi AIHANA <aihana@gnome.gr.jp>

	* docs/ja/*: Added new documents for GNOME 2.2 translated by
	KAMAGASAKO Masatoshi <emerald@gnome.gr.jp>.
	* docs/Makefile.am: added ja into SUBDIRS.

2003-01-25 John Fleck <jfleck@inkstain.net>

	* docs/C/battstat.xml
	fixing typo, bug #104340

2003-01-21  Arvind Samptur <arvind.samptur@wipro.com>
	* battstat_applet.c (destroy_applet): Destroy the
	preferences dialog when destroying the applet.

2002-12-14  Fernando Herrera <fherrera@onirica.com>

	* GNOME_BattstatApplet.server.in.in: added bugzilla attributtes

2002-12-08  Kevin Vandersloot <kfv101@psu.edu>

        * battstat_applet.c, Makefile.am: hook up help menu. Fixes bug #91297

2002-09-15  Juan Salaverria <rael@vectorstar.net>
	
	* GNOME_BattstatApplet.xml: Added a separator in the
	menu and ordered the menu items. May fix bug #89864

2002-11-22  Kevin Vandersloot <kfv101@psu.edu>

	* acpi-linux.c: don't hardcode battery directory names and allow for multiple
	batteries. Patch from Hanno Böck <hanno@gmx.de>. Fixes bugs 89681 and
	90122.

2002-10-25  Kevin Vandersloot <kfv101@psu.edu>

        * battstat_applet.c: realize the applet widget on startup
        so applet->window is not NULL. Fixes the oft duped crash
        on startup bug #86458

2002-09-19  Mark McLoughlin  <mark@skynet.ie>

	* battstat_applet.c: (battstat_error_dialog), (about_cb):
	* properties.c: (prop_cb): kill the HAVE_GTK_MULTIHEAD
	conditionals - we require gtk HEAD now.

2002-08-14  Mark McLoughlin  <mark@skynet.ie>

	* battstat_applet.c: (help_cb), (helppref_cb):
	add a couple of FIXMEs.

2002-07-18  Mark McLoughlin  <mark@skynet.ie>

	* Makefile.am: install applet in libexec.

	* GNOME_BattstatApplet.server.in: move .server.in to
	.server.in.in to allow for libexec dir substitution.

2002-07-11  Kevin Vandersloot <kfv101@psu.edu>

	* *.glade: Fix misspelling. Patch by Heath Harrelson. 
	Fixes bug #87010

2002-07-11  Mark McLoughlin  <mark@skynet.ie>

	* battstat_applet.c: (battstat_error_dialog), (about_cb):
	realise dialogs on the same screen as the applet.

	* properties.c: (prop_cb): ditto.

2002-07-10  Mark McLoughlin  <mark@skynet.ie>

	* battstat.h: get method signatures for verb callbacks
	correct, add PanelApplet arg to some other methods.

	* battstat_applet.c: (apm_readinfo), (pixmap_timeout),
	(battstat_error_dialog), (cleanup): add PanelApplet arg.
	(help_cb), (suspend_cb), (about_cb):  get verb callback
	signature correct.

	* properties.c: (prop_cb): ditto.

2002-06-15 Trevor Curtis <tcurtis@somaradio.ca>
	* docs/C/battstat-C.omf: fixed it so that it validates

2002-05-31 Kevin Vandersloot <kfv101@psu.edu>

	* Makefile.am: Fix GNOMELOCALEDIR to point to correct
	location. Fixes #83621. 

2002-05-24  Eric Baudais  <baudais@okstate.edu>

	* docs/C/battstat-C.omf: added OMF file

2002-05-24  Trevor Curtis <tcurtis@somaradio.ca>
	* docs/C/battstat.xml: updated documentation
	* docs/C/figures/battstat-apperance.png: added screenshot
	* docs/C/figures/battstat-applet.png: added screenshot
	* docs/C/figures/battstat-general.png: added screenshot

2002-05-23  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: do some sanitiy checks if gconf doesn't
	return sane values

2002-05-20  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: set window icon

2002-05-13  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: get the check for a full battery correct. Should
	fix bugs #76578 and #77996. Thanks to Jonathan Blandford for helping debug :)

2002-05-13  Kevin Vandersloot <kfv101@psu.edu>

	* acpi-linux.c: Patch from Jacob Berkman updating for acpi
	changes. Fixes bug #73786

2002-05-12  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: check to see if the battery is actually
	full before popping the dialog. May fix bugs #77996 and
	#76578. May also prevent the dialog from actually poping
	up though. Needs some testing.

2002-05-10  Deepa Natarajan <deepa.natarajan@wipro.com>

	* .xml: added mnemonics for the popup menu

2002-04-27  Dennis Cranston <dennis_cranston@yahoo.com>
	
	* battstat_applet.c:  "About..." dialog fixes -- change the 
	name to "Battery Charge Monitor" to match the "Add to panel"
	menu.  Also, use battstat.png for the logo and window icon.
	
2002-04-20  Abel Cheung  <maddog@linux.org.hk>

	* sounds/.cvsignore: Added soundlist file.
	* battstat_applet.glade: Fix typo.
	* battstat_applet.c: Added translator_credit.

2002-04-15  Kjartan Maraas  <kmaraas@gnome.org>

	* sounds/Makefile.am: Setup intltools for the soundlist file.
	* sounds/battstat_applet.soundlist.in: New file. The polish translation
	must be moved by hand into the .po file I don't have the right fonts
	to edit it...
	
2002-04-01  Kevin Vandersloot <kfv101@psu.edu>

	* .xml: add ellipses to preferences option

2002-04-01  Kevin Vandersloot <kfv101@psu.edu>

	* .xml, .seerver.in, .glade: change properties to preferences

2002-03-17  Trevor Curtis <tcurtis@somaradio.ca>
	* docs/C/battstat.xml: initial creation of xml'ified doc
	* docs/C/legal.xml: License info

2002-03-05  Seth Nickell  <snickell@stanford.edu>

	* GNOME_BattstatApplet.server.in:

	Update description.

2002-03-04  Kevin Vandersloot <kfv101@psu.edu>

	* properties.c: don't pass GdkColor since it may have
	been causing a crash. Hopefully fixes bug #71499

2002-03-03  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: don't do gconf fu if we're setting a DESTDIR

2002-02-24  Bastien Nocera  <hadess@hadess.net>

	* battstat.h:
	* battstat_applet.c: (pixmap_timeout), (battstat_applet_fill):
	put the last_* battery information in the global data rather than
	using static as this breaks when we have multiple instances
	or restart the applet and stuff like that. Fixes:#72388
	Looking at it, this applet *must* leak, there's no way
	to destroy it. Need to investigate that

2002-02-18  Bastien Nocera  <hadess@hadess.net>

	* battstat_applet.c: (battstat_error_dialog), (cleanup),
	(suspend_cb): use g_spawn_* instead of gnome_execute_*
	(which means better error checking), use dialog error boxes
	instead of printing it on the stdout

2002-02-18  Bastien Nocera  <hadess@hadess.net>

	* sounds/Makefile.am: install soundlist in the right place

2002-02-17  Kevin Vandersloot <kfv101@psu.edu>

	* GNOME_BattstatApplet.xml: fix minor error

2002-02-16  Cody Russell  <bratsche@gnome.org>

	* GNOME_BattstatApplet.xml: Added.

	* battstat_applet.c: Load BonoboUI from external XML file instead of
	inline.

2002-02-15  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: queue the redraw on the battery pixmaps instead
	of the status. Save the color values. Prefs are now fully
	instant apply. Wow this applet works properly now!

	* properties.c: set the color changed boolean when changing prefs
	so the applet gets updated

	* battstat_applet.glade: remove the dock thing since it's not
	ported. 

2002-02-15  Michael Meeks  <michael@ximian.com>

	* battstat_applet.c (pixmap_timeout): kill
	cut & paste code, and render the pixmap in the
	right place - gack, prune warnings, queue a
	redraw when we re-render.
	kill redundant return's.
	(simul_cb): queue a re-draw.

2002-02-11  Kjartan Maraas  <kmaraas@gnome.org>

	* GNOME_MultiLoadApplet_Factory.server.in: Mark strings for l10n.
	
2002-02-11  Mark McLoughlin  <mark@skynet.ie>

	* GNOME_BattstatApplet.server.in: move to Vertigo namespace.

	* battstat_applet.c: update for factory macro change.

2002-02-11  Bastien Nocera  <hadess@hadess.net>

	* .cvsignore: added
	* Makefile.am: install the icon
	* apmlib/.cvsignore: added
	* sounds/.cvsignore: added

2002-02-10  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: how many times !

2002-02-10  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: really fix properly (it compiled fine on my
	system, mind you :)

2002-02-10  Bastien Nocera  <hadess@hadess.net>

	* Makefile.am: add -I in front of the apmlib directory
	otherwise it doesn't build

2002-02-09  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.glade: port from GnomeDialog to GtkDialog

	* properties: update for GtkDialog

2002-02-06  Kevin Vandersloot <kfv101@psu.edu>

	* battstat_applet.c: fix most of the sizeing issues and layout
	issues. Issue with spacing of the pixmaps makes the applet look
	ugly.

	* properties.c: make most of the properties instant apply.
	Some issue with changing the progress direction. Dialog
	needs porting from GnomeDialog to GtkDialog (in glade file)

2002-02-06  jacob berkman  <jacob@ximian.com>

	* Makefile.am (DIST_SUBDIRS): dist the subdirs to fix build error

2002-01-30  Roy-Magne Mo  <rmo@sunnmore.net>

	* configure.in: Added "nn" to ALL_LINGUAS

2002-01-20  Seth Nickell  <snickell@stanford.edu>

	* configure.in:

	Add GCONF macro calls to get the correct
	tool line for installing schemas.
	
	* src/Makefile.am:

	Install schemas.
	
	* src/battstat.h:
	* src/battstat_applet.c: (toggle_value_changed_cb),
	(load_preferences), (save_preferences), (battstat_applet_fill):
	* src/properties.c: (prop_apply), (prop_cb):

	Load and save preferences more smoothly.
	
	* src/battstat.schemas:

	Get schemas working.

2002-01-20  Seth Nickell  <snickell@stanford.edu>

	* src/GNOME_BattstatApplet.server.in:

	Rename "Battery Charge Monitor"

2002-01-20  Seth Nickell  <snickell@stanford.edu>

	* Makefile.am:
	* battstat_applet.desktop.in:
	* battstat_applet.gnorba:

	Remove the .desktop and the .gnorba file,
	neither of which is relevant to GNOME2 panel.

	Install pixmaps into the right directory.
	
2002-01-20  Seth Nickell  <snickell@stanford.edu>

	* src/GNOME_BattstatApplet.server.in:

	Server file for GNOME2 panel.
	
	* src/Makefile.am:

	Install schemas & server file.
	
	* src/battstat.h:
	* src/battstat_applet.c: (pixmap_timeout), (about_cb),
	(load_preferences), (create_layout), (battstat_applet_fill),
	(battstat_applet_factory):
	* src/properties.c: (prop_apply):

	Initial port to GNOME2 and GConf. Should support basic
	functionality, though the properties dialog isn't hooked
	in yet (can still edit GConf registry manually).
	
	* src/battstat_applet.glade:
	* src/battstat_applet.glade1:

	Add Glade1 file and the libglade-convert generated
	Glade2 conversion (since there aren't visual editors
	for generating Glade2 files yet, including both, should
	just generate the .glade file from the .glade1 file).

	Also clean up the dialog a bit and add some borders and
	widget spacing.
	
	* src/battstat.schemas:

	Schemas file describes the various configuraiton keys.

	* aclocal.m4:
	* config.guess:
	* config.sub:
	* docs/C/Makefile.in:
	* docs/Makefile.in:
	* docs/pl/Makefile.in:
	* configure.in:
	* sounds/Makefile.in:
	* src/Makefile.in:
	* ltmain.sh:

	Delete from CVS, these are all autogenerated by 
	autoconf/automake.
	
2002-01-16 Hasbullah Bin Pit <sebol@ikhlas.com>

	*configure.in: Added Malay (ms) in ALL_LINGUAS.
	*po/ms.po: Added Malay Translation.

2001-12-28  Jörgen Pehrson  <jp@spektr.eu.org>

	* configure.in: Changed the version numbering for
	GNOME 2.x to 2.1.x
	
2001-12-26  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Added "az" to ALL_LINGUAS

2001-12-13  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS

2001-12-10  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "da", "es", "no", "pt", and "ru" to
	ALL_LINGUAS.

1.0:
	Initial version. Uses the GTK toolkit. Only works with FreeBSD for
	now.

1.1:
	Added the flashing pixmap to the power cord image, showing when
	laptop is recharging.  Added ToolTips.

1.2:
	Added Linux support. (Perhaps, it's untested). Uses the libapm
	library under Linux.
	Added the exclamation mark pixmap. Displayed when system power 
	falls under a specified threshold.

1.2.1:	
	Added Gnome support. Application will now be compiled as a panel
	applet as well as a normal GTK application. Now requires at least
	automake 1.4a if you want to remake the Makefile.in.

1.2.2:
	Minor fixes. 

2.0.0:
	Complete change of appearance. Only works as an applet now. Does
	not require automake 1.4a any longer to recreate Makefile.in.
	Complete rewrite of the GUI.  Added a preferences window.  Added a
	custom progress meter.  Added sound events for "battery almost
	empty" and "battery fully re-charged" events.  Still only tested
	under FreeBSD.

2.0.1: 	
	First public release.

2.0.1a:	
	Problem compiling under Linux reported by Matthias Saou. Added 
	some #ifdefs to fix it.

2.0.1b: 
	Should really work under Linux now. (At least it works on my 
	new Linux installation, Debian 2.2)

2.0.2:
	New configurable option. Now you have the choice of having the
	battery charge meter shrink to the right or the left.

2.0.3:
	New configurable options. One can select if the applet should be
	layout in a horizontal or a squarish fashion. You can also select
	what parts of the applet that should be visible.

2.0.4:
	General code de-uglyfication. Good news, everyone. Two bugs found
	and fixed.  
	I was using 0 and 1 instead of false and true respectivly for some
	options in the session management stuff. That worked fine on the
	version of GNOME I have installed. But it will lead to a
	segmentation fault when using older versions.  
	The second bug caused the applet to crash if one removed the
	battery while running the laptop on AC power.

2.0.5:
	New feature. You can now right click on the applet and suspend
	your laptop by selecting "Suspend the laptop" from the menu. You
	can configure what should happen then in the properties dialog.
	The FreeBSD port Makefile has been cleaned up by Jim Mock.

2.0.6:
	2000-08-18 
	The applet can now use the status dock (if available) to display
	battery status. This part of the applet is not entierly finished
	yet. Suggestions welcome.
	Found a bug in the code where the APM BIOS potentially could
	report 255 instead of 0-2 under Linux. This would result in a seg
	fault.
	Polish translation by Cezary Jackiewicz	<cjackiewicz@poczta.onet.pl>.
	
2.0.7:
	2000-08-21
	Found and fixed a bug where the applet would crash if you put the 
	laptop back on AC power after it's been low on power.

2.0.8:
        2000-10-20 
	The applet has been ported to OpenBSD by Joe Ammond
	<jra@twinight.org>. 

2.0.9:
	2001-02-07
	Rewrote the applet to open the APM device, get the power status
	and then close the device immediately. Previously I kept the
	device opened for as long as the applet was running.
	2001-02-13
	Thomas Hood pointed out that under Linux there's no need to open
	the APM device at all. apm_read() will take care of that by
	reading from /proc and not directly from the device.

2.0.10:
	2001-03-26
	Added a patch from Mikael Hallendal <micke@codefactory.se>. 
	Instead of displaying an error dialog, the applet now 
	displays a warning dialog when the battery is low and an 
	"ok" dialog when the battery is fully re-charged.
	2001-03-27
	Fixed the bug that prevented sounds to be played at battery
	low and battery fully re-charged. I was giving the wrong number of 
	parameters to gnome_triggers_do(). (Assign the sounds in the 
	GNOME Control Center->Multimedia->Sounds)
	Fixed a bug in the Preferences dialog. It will now properly display
	your current "drain" settings (towards bottom, or towards the top) 
	in the "Preview".
	2001-03-29
	Added a logo for the About dialog. (It's a picture of Tesla from
	1899, somewhat modified)
	2001-03-30
	Removed some unneccessary code in pixmap_timeout().
	Removed a unneccessary load_preferences() in init_applet().

2.0.11:
	2001-04-02
	- Added a tooltip for the status dock icon.
	- Changed the algorithm somewhat for when to decide when the battery 
	is fully re-charged. Previously the applet could decide that the
	battery was fully re-charged even when running on battery power 
	at say 10%. Now the laptop needs to be running on AC and it must have
	been "Charging" the previous iteration through the algorithm.
	- Moved the source code to src/ and made the appropriate changes in the
	Makefiles.
	2001-04-03
	- Added the spec file to the CVS so people can build RPMs.
	2001-04-04
	- Split the code into smaller files.
	2001-04-13
	- Started to change the code so it will honor the hints it gets from
	the panel (size and orientation).
	2001-04-14
	- Finished the code change for panel hints.
	- Removed the "Orientation" frame in the Preferences dialog.
	2001-04-17
	- Added an gtk_emit_signal_by_name() to main() so the applet will
	have the correct size at startup. Seems to work now.
	2001-04-21
	- Christian Rose <menthos@menthos.com> added po file to Gnome CVS.
	2001-04-22
	- Chinese translation by Abel Cheung <maddog@linuxhall.org>.
	2001-04-23
	- German translation by Christian Meyer <chrisime@gnome.org>.
	2001-04-24
	- Changed code to use as complete sentences as possible to make
	translation easier.
	- Fixed a bug that has been around for a long time. The tooltip
	over the status frame wouldn't update correctly.
	2001-05-06
	- Added some patches to the RPM spec file, Makefile.am and 
	applet-docs.make from Michael Reinsch <mr@uue.org>. 
	2001-05-28
	- Added code to configure.in to require at least 0.10.37 of gettext.
	- Hungarian translation by Emese Kovacs <emese@gnome.hu>.
        2001-07-19
        - Added build instructions for building Battstat from CVS sources. 

2.0.12:
	2001-08-24
	- Applied patch from Mikael Hallendal <micke@codefactory.se>. Now
	the Properties dialog is created with Glade.
	2001-09-10
	- Applied patch from Travis Saling <trav@u.washington.edu>. This
	fixes a bug where the applet would draw the battery pixmap even
	though you'd told the applet to hide it.
	2001-10-19
	- Changed variable names to more sane ones.
	- Changed some if-conditions.
	2001-10-26
	- Applied patch from Thomas Hood <jdthood@mail.com>. Much needed
	cleanup of certain areas of the code.
	- Added a test for the Battery full notification to see if there
	actually is a battery present in the laptop. Otherwise if the
	laptop was recharging the battery and you would remove it, the
	applet would claim that the battery was fully recharged even
	though there wasn't any battery in the laptop at all.
	- Release of 2.0.12
	
2.0.13:
	2001-10-26
	- Discovered some bugs in the spec file for building RPM's.  One
	totally deranged bug where rpm -bb bs.spec would pack every pixmap
	under /usr/share/pixmap in the .rpm. The other was that the 
	directory for libglade under /usr/share/battstat_applet/ wasn't
	created at all.
	- Fixed a spelling error in src/Makefile.am. Instead of EXTRA_DIST
	it said EXTRADIST. That meant that the libglade file wasn't included
	in the distribution when doing a "make dist". 

2001-12-10 Jörgen Pehrson <jpehrson@cvs.gnome.org>
	To celebrate the fact that Battstat moved into the GNOME CVS the
	format of this changelog has changed. A lot of changes (by others)
	took place between the previous entry in the ChangeLog and this
	entry. For example, ACPI support for Linux was added by Lennart
	Poettering <lennart@poettering.de>, PPC support was added by
	Bastien Nocera <hadess@hadess.net> and a new icon created by Jakub
	"Jimmac" Steiner, <jimmac@linux.com.nospam> was added.  The reason
	for the lack of updated to this file was that I didn't have any
	access to the CVS for a month.

	* configure.in: Added "gnome-config --cflags libglade" so that the
	  build will find the new location for libglade headers.
	* src/Makefile.am Added $(gladeincludedir) to the INCLUDES.
	* MAINTAINERS: Initial version.
