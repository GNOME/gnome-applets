Summary:	 Small applications which embed themselves in the GNOME panel
Name:     	 gnome-applets
Version: 	 @VERSION@
Release:	 1_cvs
License:	 GPL
Group:		 User Interface/Desktops
Source: 	 ftp://ftp.gnome.org/pub/GNOME/sources/stable/%{name}/%{name}-%{version}.tar.gz
URL:		 http://www.gnome.org/
BuildRoot:	 %{_tmppath}/%{name}-%{version}-root
Requires:	 libxml, libgtop, libghttp
Requires:        gnome-core >= 1.1.2
Requires:	 gdk-pixbuf >= 0.7.0
BuildRequires:   gnome-libs-devel, ORBit-devel, libghttp-devel, scrollkeeper
BuildRequires:   gnome-vfs-devel, libxml-devel
Buildrequires:   gnome-core-devel >= 1.1.2
BuildRequires:   gtk+-devel >= 1.2.0
BuildRequires:   esound-devel >= 0.2.5
BuildRequires:   libgtop-devel >= 1.0.0
BuildRequires:   gdk-pixbuf-devel > 0.7.0

%description
GNOME (GNU Network Object Model Environment) is a user-friendly
set of applications and desktop tools to be used in conjunction with a
window manager for the X Window System.  GNOME is similar in purpose and
scope to CDE and KDE, but GNOME is based completely on Open Source
software.  The gnome-applets package provides Panel applets which
enhance your GNOME experience.

You should install the gnome-applets package if you would like embed small
utilities in the GNOME panel.

%prep
%setup -q

%build
./configure --prefix=%{_prefix} --sysconfdir=%{_sysconfdir} \
    --bindir=%{_bindir} --mandir=%{_mandir} --datadir=%{_datadir}
CFLAGS="$RPM_OPT_FLAGS"
make

%install
[ -n "$RPM_BUILD_ROOT" -a "$RPM_BUILD_ROOT" != / ] && rm -rf $RPM_BUILD_ROOT

make prefix=$RPM_BUILD_ROOT/%{_prefix} \
    bindir=$RPM_BUILD_ROOT/%{_bindir} \
    mandir=$RPM_BUILD_ROOT/%{_mandir} \
    datadir=$RPM_BUILD_ROOT/%{_datadir} \
    sysconfdir=$RPM_BUILD_ROOT/%{_sysconfdir} install

%find_lang %name


%clean
[ -n "$RPM_BUILD_ROOT" -a "$RPM_BUILD_ROOT" != / ] && rm -rf $RPM_BUILD_ROOT

%post
/sbin/ldconfig
if which scrollkeeper-update>/dev/null 2>&1; then scrollkeeper-update; fi

%postun
/sbin/ldconfig
if which scrollkeeper-update>/dev/null 2>&1; then scrollkeeper-update; fi

%files -f %{name}.lang
%defattr (-, root, root)
%doc AUTHORS COPYING ChangeLog NEWS README
%{_sysconfdir}/CORBA/servers/*
%{_bindir}/*
%{_mandir}/man1/*
%{_datadir}/applets
%{_datadir}/asclock
%{_datadir}/clockmail
%{_datadir}/geyes
%{_datadir}/gnome/gkb
%{_datadir}/gnome/help/*
%{_datadir}/gweather
%{_datadir}/odometer
%{_datadir}/omf/gnome-applets
%{_datadir}/pixmaps/*
%{_datadir}/sound-monitor
%{_datadir}/tickastat
%{_datadir}/xmodmap

%changelog
* Sun Oct 21 2001 Build User <builder@rh7-build.linuxweasel.com>
- removed %configure and %makeinstall, because they're broken
- re-wrote %files section to do something sane, rather than this autogenerated stuff that doesn't actually work

* Tue Aug 21 2001 Gregory Leblanc <gleblanc@linuxweasel.com>
- removed unnecessary %defines
- cleaned up dependancies
- fixed BuildRoot
- replaced Copyright with License
